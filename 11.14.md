#### ë„ì»¤(docker) ë‚´ê°€ ë³´ë ¤ê³  í•˜ëŠ” ë¸”ë¡œê¹…!
> * DockerëŠ” í¬ê²Œ 4ê°€ì§€ë¡œ êµ¬ì„±
Docker clientì™€ serve(docker engine), 
Docker image, 
Docker registries(docker-hub), 
Docker containers

![](https://images.velog.io/images/majaeh43/post/2a7a7b7c-0446-4c22-8990-d1d69655ec41/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202021-11-07%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%2012.46.56.png)

ì´ ê·¸ë¦¼ìœ¼ë¡œ ì´í•´í•˜ë©´ ì¢€ ë” ìˆ˜ì›”í•¨.
docker registryì—ì„œ imageë¥¼ pullë°›ì•„ì™€ì„œ containerë¡œ run ì‹œì¼œë„ ë˜ê³ ,
dockerfileì„ buildì‹œì¼œ imageë¡œ ë§Œë“¤ì–´ containerë¡œ run ì‹œì¼œë„ ë¨.
ê·¸ëŸ¬ë‹ˆê¹Œ ê²°êµ­ì—” imageí™” ì‹œì¼œ containerë¡œ ë„£ì–´ì£¼ê³  ê·¸ê±¸ ê´€ë¦¬í•´ì£¼ë©´ ë˜ëŠ” ê²ƒ.

#### image & container ëª…ë ¹ì–´

<ì´ë¯¸ì§€ë‹¤ìš´>
docker pull {name}

<ì´ë¯¸ì§€í™•ì¸í•˜ê¸°>
docker images 

<ëª¨ë“  image ëª©ë¡>
docker images -a

<ì‹¤í–‰ì¤‘ì¸ container ëª©ë¡>
docker ps

<ì‹¤í–‰ì¢…ë£Œëœê²ƒ í¬í•¨ ëª¨ë“  container ëª©ë¡>
docker ps -a

<ì´ë¯¸ì§€ë¥¼ ì»¨í…Œì´ë„ˆë¡œ>
docker run {image name}

<ê°™ì€ ì´ë¯¸ì§€ë¥¼ ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆë¡œ!
docker run --name {name} python:latest (nameì— ì´ë¦„ ë¶™ì—¬ì£¼ê¸°)

<ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€íŠ¸>
docker start {container ì´ë¦„}

<ì»¨í…Œì´ë„ˆ ìŠ¤í†±>
docker stop {container ì´ë¦„}

<ì»¨í…Œì´ë„ˆ ì‚­ì œ ëª…ë ¹: ì‹¤í–‰ì¤‘ì¸ ì»¨í…Œì´ë„ˆëŠ” ì‚­ì œ no>
docker rm {container name}

<ì‹¤í–‰ì¤‘ì¸ ì»¨í…Œì´ë„ˆë„ ê°•ì œ ì‚­ì œ>
docker rm â€”force {ì´ë¯¸ì§€ë„¤ì„}

<ì´ë¯¸ì§€ ì‚­ì œ ëª…ë ¹>
docker rmi {ì´ë¯¸ì§€ë„¤ì„}

<ì´ë¯¸ì§€ë¥¼ ì»¨í…Œì´ë„ˆì— ì—°ê²°ì‹œí‚¤ë˜ í˜¸ìŠ¤íŠ¸í¬íŠ¸+ì»¨í…Œì´ë„ˆí¬íŠ¸ ì—°ê²° ì‹œí‚¤ëŠ”ë°©ë²•>
docker run â€”name {container ì´ë¦„} -p 8081:80 httpd

<ì»¨í…Œì´ë„ˆ ì•ˆìœ¼ë¡œ ë“¤ì–´ê°€ì„œ ì¡°ì‘í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ëª…ë ¹ì–´>
docker exec -it {container ì´ë¦„} /bin/sh (or bash)

<docker	ì´ë¯¸ì§€ ë§Œë“¤ì–´ì£¼ê¸° ëª…ë ¹ì–´>
<eunhye8ì€ docker userë„¤ì„, 0.0.0ì€ tagì´ë¦„, imageì˜ ë²„ì „ ë§¨ ë’¤ ì©œê¹Œì§€ ì†Œì¤‘í•¨>
docker build -t ehye8/hola:0.1.0

<docker ì´ë¯¸ì§€ ë§Œë“¤ì–´ì¤€ê±° repoë¡œ pushí•˜ê¸°>
docker push ehye8/pre2021:0.1.0

<ì´ë¯¸ì§€ë¥¼ ì»¨í…Œì´ë„ˆë¡œ ë§Œë“¤ê¸°> (ë’¤ì— í¬íŠ¸ë²ˆí˜¸ ê¼­ì ì–´ì£¼ê¸°)
docker run â€”name pre2021-container -d -p 8000:8000 ehye8/pre2021:0.1.0

<ìš°ë¶„íˆ¬í™˜ê²½(ec2)ì—ì„œ docker registry í’€ ë°›ê¸°>
docker pull ehye8/pre2021:0.1.0

docker images
<pull ëœ imagesë“¤ì´ ë‚˜ì˜´>

docker run --name pre2021 -d -p 8000:8000 ehye8/pre2021:0.1.0
<ìš°ë¶„íˆ¬ í™˜ê²½ì—ì„œ container ë™ì‘ì‹œí‚´>

#### dockerfile -> imageí™” ì‹œí‚¬ ë•Œ ëª…ë ¹ì–´
docker build -t ehye8/pre2021:0.1.0 .
<ehye8/pre2021ì´ image ì´ë¦„ì„>
<dockerfileì„ ì´ë¯¸ì§€ë¡œ build>

docker images

docker run --name {container ì´ë¦„} -p 8000:8000 {image ì´ë¦„}:0.1.0 
<dockr ì´ë¯¸ì§€ë¥¼ ê°€ì§€ê³  ì»¨í…Œì´ë„ˆì— ë„£ì–´ì„œ run ì‹œí‚´>

ì—¬ê¸°ì„œë¶€í„°ëŠ” container ë™ì‘ì¤‘ !
ì´ë¯¸ì§€ê°€ ë‹¤ ìƒì„±ì´ ëê³ !

docker exec -it {container ì´ë¦„ /bin/bash 
<ì´ ëª…ë ¹ì–´ ì¹˜ë©´ ê° ì»¨í…Œì´ë„ˆë“¤ì–´ê°€ì„œ shell ì¹  ìˆ˜ ìˆìŒ>

docker push ehye8/pre2021:0.1.0
<imageëœ dockerfileì„ docker registry(docker hub)ì— push>
<ì—¬ê¸°ì„œ ì•ˆë ë•Œ docker loginí•´ë³´ê¸°>

ssh -i '/Users/eunhyepark/Desktop/mangokeypair.pem' ubuntu@13.209.14.238
<ì´ì œ ë°°í¬ë¥¼ í•´ì•¼í•´ ubuntu ì ‘ì†>
<ec2ì„œë²„ì— ë“¤ì–´ì™”ì§€ ì´ì œ>

docker pull ehye8/pre2021:0.1.0
<docker registryì—ì„œ ehye8/pre2021 image ë‹¤ìš´ë°›ì•„ì£¼ê¸°>

docker images 
<ì´ë¯¸ì§€ í™•ì¸í•´ë³´ê¸° ê·¸ëŸ¼ ìš°ë¶„íˆ¬ ec2ì„œë²„ì— ë“¤ì–´ì™€ìˆì–´ registryì— í‘¸ì‹œí•´ë†¨ë˜ ì´ë¯¸ì§€ê°€>

docker run â€”-n pre2021 -p 8000:8000 ehye8/pre2021:0.1.0
<container ì‹¤í–‰ì‹œí‚¨ê²ƒ>

sudo docker ps
<ì»¨í…Œì´ë„ˆì—ì„œ í™•ì¸ê°€ëŠ¥>
<ì´ì œë°°í¬ì™„ë£Œ!>

ğŸ† ë¡œê·¸ì¸ì•ˆë ë•Œ ğŸ†
sudo usermod -aG docker $USER
newgrp docker
docker login

